<article class="timeline" style="position: relative; max-width: 980px; margin: 0 auto;">

  <!-- Count each type -->
  {% assign typeC_count = 0 %}
  {% assign typeJ_count = 0 %}
  {% assign typeP_count = 0 %}
  {% assign typeSW_count = 0 %}
  {% assign typeT_count = 0 %}
  {% for post in site.posts | sort date, "last" %}
    {% if post.pub %}
      {% if post.pub-type == 'C' %}
        {% assign typeC_count = typeC_count | plus: 1 %}
      {% elsif post.pub-type == 'J' %}
        {% assign typeJ_count = typeJ_count | plus: 1 %}
      {% elsif post.pub-type == 'P' %}
        {% assign typeP_count = typeP_count | plus: 1 %}
      {% elsif post.pub-type == 'SW' %}
        {% assign typeSW_count = typeSW_count | plus: 1 %}
      {% elsif post.pub-type == 'T' %}
        {% assign typeT_count = typeT_count | plus: 1 %}
      {% endif %}
      {{ post.title }} <br>
    {% endif %}
  {% endfor %}
  
  <!-- Publication Navigation -->
  <nav class="timeline__nav" style="position:fixed; top: 190px; z-index: 99; transition: top 0.3s ease-out;">
    <ul style="list-style: none; list-style-position: inside; margin: 15px 0;">
      <li class="active"><span><a href="#select">Select</a></span></li>
      <!-- List year -->
      {% assign pub_years = site.posts | group_by_exp: 'post', 'post.date | date: "%Y"' %}
      {% for year in pub_years %}
      <li><span>{{ year.name }}</span></li>
      {% endfor %} 
    </ul>
  </nav>

  <section class="timeline__section">
    <div style="margin 0 auto; padding 0 16.66% 50px; width: 100%;">
      <!-- Select Publications -->
      <h2 class="milestone" id="select">Select</h2>
      <hr style="margin: 0; height: 2px; line-height: 2px; border-bottom: 2px;">
      {% assign categories = "Reliability DRAM GPU" | split: ' ' %}
      {% for category in categories %}
        <h3 class="pub_category">{{ category }}</h3>
        <ul style="list-style:none;">
        {% for post in site.posts %}
          {% if post.pub %}
            {% if post.select == "y" %}
              {% if post.category == category %}
          <li> {{ post.pid }} [{{ post.venue }}] {{ post.title }}</li>
              {% endif %}
            {% endif %}
          {% endif %}
        {% endfor %}
        </ul>
      {% endfor %}
      <hr style="margin: 0; height: 2px; line-height: 2px; border-bottom: 2px;">
    </div>
  </section>
    
</article>
